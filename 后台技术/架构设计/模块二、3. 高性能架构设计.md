> ​	鸡蛋篮子第二法则：如果一个篮子装不下，用多个篮子！



[TOC]

## 高性能复杂度模型

![image-20220409120708023](static/images/image-20220409120708023.png)



### 单机高性能复杂度分析

![image-20220409120826944](static/images/image-20220409120826944.png)

单机的高性能更多的是一些编程技巧，而不是架构设计的技巧

### 集群高性能复杂度分析

#### 鸡蛋篮子第二法则，叠加法则

![image-20220409122903764](static/images/image-20220409122903764.png)

分任务分配与任务分解

#### 集群高性能 - 任务分配

![image-20220409123219837](static/images/image-20220409123219837.png)

##### 任务分配器集群

![image-20220409123359522](static/images/image-20220409123359522.png)

复杂度分析：任务分配器是一个集群，需要上一级的分配器





集群高性能任务分配架构设计关键点

![image-20220409123718373](static/images/image-20220409123718373.png)

##### 任务分配的案例

DNS

![image-20220409123751039](static/images/image-20220409123751039.png)

nginx

![image-20220409123954977](static/images/image-20220409123954977.png)

Memcached

![image-20220409124058449](static/images/image-20220409124058449.png)

#### 集群高性能-任务分解

![image-20220409124206561](static/images/image-20220409124206561.png)

集群高性能任务分解架构设计关键点

![image-20220409124446508](static/images/image-20220409124446508.png)

##### 任务分解的案例

微信服务的拆分

![image-20220409124613514](static/images/image-20220409124613514.png)

数据库读写分离

![image-20220409124639859](static/images/image-20220409124639859.png)

zuul

![image-20220409124738514](static/images/image-20220409124738514.png)

## 总结

![image-20220409125012824](static/images/image-20220409125012824.png)

> 不管计算还是存储，分配都是指不同服务器处理相同“类型”的任务，分解就是处理不同类型的任务
>
> 判断是分配还是分解一个最简单的方法：分配是一个请求是随便发给谁都可以处理，分解是只能发给特定的服务器